package flat/datastruct/list

class {
  external void arrayCopy(E dest[], int dIndex, E src[], int sIndex, int len, int destArrLen)

  increaseSize(Int count) => this {
    Int offset = count - capacity

    capacity = count

    native E[] tmp = Array<E>(capacity)

    arrayCopy(tmp, 0, data, 0, capacity - offset, capacity)

    this.data = tmp

    for (i in (capacity - offset)..capacity) {
      data[i] = null
    }
  }
}